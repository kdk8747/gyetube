<ion-content fullscreen (ionScroll)="util.onContentScroll($event)">
  <div style="height:56px"></div>

  <ion-row>
    <ion-col col-sm-3 col-xl-4>
    </ion-col>
    <ion-col col-12 col-sm-6 col-xl-4>

      <ion-toolbar *ngIf="sharedDataService.paneSplited">
        <ion-buttons right>
          <button ion-button icon-only (tap)="popNavigation()">
            <ion-icon name="close"></ion-icon>
          </button>
        </ion-buttons>
        <ion-buttons>{{ 'I18N_RECEIPT' | translate }} - {{ 'I18N_EDITOR' | translate }}</ion-buttons>
      </ion-toolbar>

      <ion-item *ngIf="!isNative">
        {{ 'I18N_RECEIPT' | translate }}
        <input type="file" (change)="onChangeReceiptPhoto($event)" accept="image/*" />
        <img src="" style="width: 400px; height: auto">
      </ion-item>

      <ion-list>
        <form [formGroup]="form">
          <ion-item *ngIf="isNative">
            <ion-label>{{ 'I18N_RECEIPT' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>{{ 'I18N_TITLE' | translate }}</ion-label>
            <ion-input formControlName="title" type="text" text-right [class.invalid]="!form.controls.title.valid && (form.controls.title.dirty || submitAttempt)"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>{{ 'I18N_PAYMENT_DATE' | translate }}</ion-label>
            <ion-datetime formControlName="paymentDate" displayFormat="YYYY MM DD, HH:mm" [class.invalid]="!form.controls.paymentDate.valid && (form.controls.paymentDate.dirty || submitAttempt)"></ion-datetime>
          </ion-item>
          <ion-item>
            <ion-label>{{ 'I18N_DIFFERENCE' | translate }}</ion-label>
            <ion-input formControlName="difference" type="number" text-right [class.invalid]="!form.controls.difference.valid && (form.controls.difference.dirty || submitAttempt)"></ion-input>
          </ion-item>
        </form>

        <ion-list radio-group no-lines>
          <ion-item>
            <ion-label>{{ 'I18N_RELATED_DECISION' | translate }}</ion-label>
            <ion-radio value="decision" (ionSelect)="activitySelected=false"></ion-radio>
          </ion-item>
          <ion-item *ngIf="!activitySelected">
            <ion-select [(ngModel)]="parentDecision" [selectOptions]="{title: ('I18N_RELATED_DECISION' | translate), subTitle: ('I18N_SELECT_ONE' | translate)}"
              [class.invalid]="!parentDecision && submitAttempt">
              <ion-option *ngFor="let decision of decisions | async" [value]="decision.id">{{decision.title}}</ion-option>
            </ion-select>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_RELATED_ACTIVITY' | translate }}</ion-label>
            <ion-radio value="activity" (ionSelect)="activitySelected=true" checked="true"></ion-radio>
          </ion-item>
          <ion-item *ngIf="activitySelected">
            <ion-select [(ngModel)]="parentActivity" [selectOptions]="{title: ('I18N_RELATED_ACTIVITY' | translate), subTitle: ('I18N_SELECT_ONE' | translate)}"
              [class.invalid]="!parentActivity && submitAttempt">
              <ion-option *ngFor="let activity of activities | async" [value]="activity.id">{{activity.title}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-list>
      </ion-list>
      <ion-buttons right>
        <!-- <button ion-button>{{ 'I18N_SAVE' | translate }}</button> -->
        <button ion-button (tap)="onSave()">{{ 'I18N_UPLOAD' | translate }}</button>
      </ion-buttons>
    </ion-col>
    <ion-col col-sm-3 col-xl-4>
    </ion-col>
  </ion-row>
</ion-content>
