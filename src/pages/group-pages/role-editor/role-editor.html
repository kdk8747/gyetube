<ion-content fullscreen (ionScroll)="util.onContentScroll($event)">
  <div style="height:56px"></div>

  <ion-row>
    <ion-col col-sm-3 col-xl-4>
    </ion-col>
    <ion-col col-12 col-sm-6 col-xl-4>

      <ion-toolbar *ngIf="sharedDataService.paneSplited">
        <ion-buttons right>
          <button ion-button icon-only (tap)="popNavigation()">
            <ion-icon name="close"></ion-icon>
          </button>
        </ion-buttons>
        <ion-buttons>{{ 'I18N_ROLE' | translate }} - {{ 'I18N_EDITOR' | translate }}</ion-buttons>
      </ion-toolbar>

      <form [formGroup]="form">
        <ion-list>
          <ion-item>
            <ion-label>{{ 'I18N_NAME' | translate }}</ion-label>
            <ion-input formControlName="name" type="text" text-right [class.invalid]="!form.controls.name.valid && (form.controls.name.dirty || submitAttempt)"></ion-input>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_PERMISSIONS' | translate }} - {{ 'I18N_MEMBER' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-select formControlName="member" multiple="true" [selectOptions]="{title: ('I18N_PERMISSIONS' | translate), subTitle: ('I18N_SELECT_ALL' | translate)}"
              [class.invalid]="!form.controls.member.valid && (form.controls.member.dirty || submitAttempt)">
              <ion-option *ngFor="let permission of permissions" [value]="permission.id">
                {{ permission.name | translate }}
              </ion-option>
            </ion-select>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_PERMISSIONS' | translate }} - {{ 'I18N_ROLE' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-select formControlName="role" multiple="true" [selectOptions]="{title: ('I18N_PERMISSIONS' | translate), subTitle: ('I18N_SELECT_ALL' | translate)}"
              [class.invalid]="!form.controls.role.valid && (form.controls.role.dirty || submitAttempt)">
              <ion-option *ngFor="let permission of permissions" [value]="permission.id">
                {{ permission.name | translate }}
              </ion-option>
            </ion-select>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_PERMISSIONS' | translate }} - {{ 'I18N_PROCEEDING' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-select formControlName="proceeding" multiple="true" [selectOptions]="{title: ('I18N_PERMISSIONS' | translate), subTitle: ('I18N_SELECT_ALL' | translate)}"
              [class.invalid]="!form.controls.proceeding.valid && (form.controls.proceeding.dirty || submitAttempt)">
              <ion-option *ngFor="let permission of permissions" [value]="permission.id">
                {{ permission.name | translate }}
              </ion-option>
            </ion-select>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_PERMISSIONS' | translate }} - {{ 'I18N_DECISION' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-select formControlName="decision" multiple="true" [selectOptions]="{title: ('I18N_PERMISSIONS' | translate), subTitle: ('I18N_SELECT_ALL' | translate)}"
              [class.invalid]="!form.controls.decision.valid && (form.controls.decision.dirty || submitAttempt)">
              <ion-option *ngFor="let permission of permissions" [value]="permission.id">
                {{ permission.name | translate }}
              </ion-option>
            </ion-select>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_PERMISSIONS' | translate }} - {{ 'I18N_ACTIVITY' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-select formControlName="activity" multiple="true" [selectOptions]="{title: ('I18N_PERMISSIONS' | translate), subTitle: ('I18N_SELECT_ALL' | translate)}"
              [class.invalid]="!form.controls.activity.valid && (form.controls.activity.dirty || submitAttempt)">
              <ion-option *ngFor="let permission of permissions" [value]="permission.id">
                {{ permission.name | translate }}
              </ion-option>
            </ion-select>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_PERMISSIONS' | translate }} - {{ 'I18N_RECEIPT' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-select formControlName="receipt" multiple="true" [selectOptions]="{title: ('I18N_PERMISSIONS' | translate), subTitle: ('I18N_SELECT_ALL' | translate)}"
              [class.invalid]="!form.controls.receipt.valid && (form.controls.receipt.dirty || submitAttempt)">
              <ion-option *ngFor="let permission of permissions" [value]="permission.id">
                {{ permission.name | translate }}
              </ion-option>
            </ion-select>
          </ion-item>

          <ion-item no-lines>
            <ion-label>{{ 'I18N_BASIS_FOR_THIS_DOCUMENT' | translate }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-select formControlName="parentDecision" [selectOptions]="{title: ('I18N_RELATED_DECISION' | translate), subTitle: ('I18N_SELECT_ONE' | translate)}"
              [class.invalid]="!form.controls.parentDecision.valid && (form.controls.parentDecision.dirty || submitAttempt)">
              <ion-option *ngFor="let decision of decisions | async" [value]="decision.decision_id">{{decision.title}}</ion-option>
            </ion-select>
          </ion-item>

        </ion-list>
      </form>
      <ion-buttons right>
        <!-- <button ion-button>{{ 'I18N_SAVE' | translate }}</button> -->
        <button ion-button (tap)="onSave()">{{ 'I18N_UPLOAD' | translate }}</button>
      </ion-buttons>
    </ion-col>
    <ion-col col-sm-3 col-xl-4>
    </ion-col>
  </ion-row>
</ion-content>
